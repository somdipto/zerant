From 3e58100aa2b6e46294aa04ef35813c59729ea691 Mon Sep 17 00:00:00 2001
From: Nikhil Sonti <nikhilsv92@gmail.com>
Date: Thu, 21 Aug 2025 10:49:53 -0700
Subject: [PATCH] disable sidepanel animation

---
 chrome/browser/ui/views/side_panel/side_panel.cc | 2 +-
 chrome/browser/ui/views/side_panel/side_panel.h  | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/chrome/browser/ui/views/side_panel/side_panel.cc b/chrome/browser/ui/views/side_panel/side_panel.cc
index d98e373f9b359..14e1dbb3ca4d4 100644
--- a/chrome/browser/ui/views/side_panel/side_panel.cc
+++ b/chrome/browser/ui/views/side_panel/side_panel.cc
@@ -677,7 +677,7 @@ void SidePanel::UpdateVisibility(bool should_be_open, bool animate_transition) {
 
 bool SidePanel::ShouldShowAnimation() const {
   return lens::features::IsLensOverlayEnabled() &&
-         gfx::Animation::ShouldRenderRichAnimation() && !animations_disabled_;
+         gfx::Animation::ShouldRenderRichAnimation() && !animations_disabled_ && animations_disabled_browseros_;
 }
 
 void SidePanel::AnnounceResize() {
diff --git a/chrome/browser/ui/views/side_panel/side_panel.h b/chrome/browser/ui/views/side_panel/side_panel.h
index 617d8674a4ead..e711565394814 100644
--- a/chrome/browser/ui/views/side_panel/side_panel.h
+++ b/chrome/browser/ui/views/side_panel/side_panel.h
@@ -128,6 +128,8 @@ class SidePanel : public views::AccessiblePaneView,
 
   bool animations_disabled_ = false;
 
+  bool animations_disabled_browseros_ = true;
+
   // Animation controlling showing and hiding of the side panel.
   gfx::SlideAnimation animation_{this};
 
-- 
2.49.0

